# Production Setup Summary

–í—Å–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ 24/7 –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ!

## üìã –ß—Ç–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ `server.py` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ `client.py` - –ö–ª–∏–µ–Ω—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏/—Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ `serv_mess.service` - Systemd —Å–µ—Ä–≤–∏—Å —Ñ–∞–π–ª
- ‚úÖ `install.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –£—Ç–∏–ª–∏—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ `manage.sh` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º (start/stop/logs)
- ‚úÖ `logs.sh` - –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ (follow/stats/errors)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (README.md, DEPLOYMENT.md, QUICKSTART.md)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (1 –∫–æ–º–∞–Ω–¥–∞)

```bash
sudo bash install.sh
```

–≠—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

## üìù –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

1. –°–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `memo` (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
2. –ö–æ–ø–∏—Ä—É—é—Ç—Å—è —Ñ–∞–π–ª—ã –≤ `/opt/serv_mess`
3. –°–æ–∑–¥–∞—é—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ª–æ–≥–æ–≤ –∏ —Ñ–∞–π–ª–æ–≤
4. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è systemd —Å–µ—Ä–≤–∏—Å
5. –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

## üîç –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
```bash
sudo systemctl status serv_mess
# –∏–ª–∏
./manage.sh status
```

### –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
./manage.sh logs

# –í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
./manage.sh logs -f
# –∏–ª–∏
tail -f /opt/serv_mess/logs/server.log
```

### –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
```bash
./manage.sh info
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—à–∏–±–∫–∏
```bash
./logs.sh errors
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```bash
./logs.sh stats
```

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `/opt/serv_mess/logs/server.log`:

```
[2026-01-16 14:23:45] [INFO] Server started on 0.0.0.0:7002
[2026-01-16 14:23:50] [INFO] Client connected: ('192.168.1.100', 12345)
[2026-01-16 14:24:00] [INFO] User 'alice' logged in from ('192.168.1.100', 12345)
[2026-01-16 14:25:15] [INFO] User 'alice' posted message
[2026-01-16 14:26:30] [INFO] User 'alice' uploaded file 'document.pdf' (12345 bytes)
```

## üîß –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–∏—Å
```bash
./manage.sh restart
```

### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
```bash
./manage.sh stop
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å
```bash
./manage.sh start
```

### –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
```bash
sudo sh -c 'echo "" > /opt/serv_mess/logs/server.log'
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/opt/serv_mess/                 # –û—Å–Ω–æ–≤–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
‚îú‚îÄ‚îÄ server.py                    # –°–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ client.py                    # –ö–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îî‚îÄ‚îÄ server.log              # –í—Å–µ –ª–æ–≥–∏ (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞—Å—Ç—É—Ç)
‚îú‚îÄ‚îÄ messages.json                # –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ)
‚îú‚îÄ‚îÄ shared_files/               # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ file1.pdf
‚îÇ   ‚îú‚îÄ‚îÄ image.jpg
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ README.md
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ò–∑–º–µ–Ω–∏—Ç–µ –≤ `server.py`:
- `PORT = 7002` - –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
- `MESSAGES_FILE = 'messages.json'` - –§–∞–π–ª —Å–æ–æ–±—â–µ–Ω–∏–π
- `FILES_DIR = 'shared_files'` - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Ñ–∞–π–ª–æ–≤
- `LOGS_DIR = 'logs'` - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ª–æ–≥–æ–≤

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
```bash
./manage.sh restart
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `memo` (–Ω–µ –æ—Ç root)
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ systemd –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –õ–æ–≥–∏ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –∑–∞–ø–∏—Å–∏ –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –í—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
sudo netstat -tn | grep :7002
```

### –†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤
```bash
du -h /opt/serv_mess/logs/server.log
```

### –†–∞–∑–º–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Ñ–∞–π–ª–æ–≤
```bash
du -sh /opt/serv_mess/shared_files/
```

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
```bash
wc -l /opt/serv_mess/messages.json
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è?
```bash
sudo systemctl status serv_mess -l
sudo journalctl -u serv_mess -n 50
```

### –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç?
```bash
sudo lsof -i :7002
sudo kill -9 <PID>
./manage.sh restart
```

### –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞?
```bash
sudo chown -R memo:memo /opt/serv_mess
sudo chmod -R 755 /opt/serv_mess
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [DEPLOYMENT.md](DEPLOYMENT.md)
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: [QUICKSTART.md](QUICKSTART.md)
- –û—Å–Ω–æ–≤–Ω–æ–π README: [README.md](README.md)

## ‚ú® –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫: `sudo bash install.sh`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `./manage.sh status`
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É: `nc localhost 7002`
4. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `./manage.sh logs -f`

–ì–æ—Ç–æ–≤–æ! üéâ
